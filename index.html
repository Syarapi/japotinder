<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Japontinder</title>
<link href="https://fonts.googleapis.com/css2?family=Yuji+Syuku&display=swap" rel="stylesheet">
<style>
  /* ====== Paleta de colores ====== */
  :root {
    --sakura-light: #fff7fb;
    --sakura-mid: #ffe3ef;
    --sakura-dark: #d38cb1;
    --sakura-a1: #d7a6f1;
    --sakura-a2: #b48ad6;

    --sky-light: #f2f9ff;
    --sky-mid: #e0f1ff;
    --sky-dark: #8dbfe6;
    --sky-a1: #a3c9ff;
    --sky-a2: #7fb2f0;

    --lav-light: #faf5ff;
    --lav-mid: #efe3ff;
    --lav-dark: #b48ad6;
    --lav-a1: #d7a6f1;
    --lav-a2: #b48ad6;

    --sun-light: #fff9e0;
    --sun-mid: #ffefb0;
    --sun-dark: #e0c050;
    --sun-a1: #f0d46a;
    --sun-a2: #e1b84f;

    --mint-light: #edfff7;
    --mint-mid: #d8ffee;
    --mint-dark: #68cba7;
    --mint-a1: #9fe6cc;
    --mint-a2: #68cba7;

    --btn-accept: #87cefa;
    --btn-reject: #ffc0cb;
    --btn-ignore: #dda0dd;
    --btn-other: #ffa500; /* Botones que no sean estos tres */

    /* Colores únicos por nombre */
    --Sara: #ffc0cb;
    --Alba: #87cefa;
    --Vaini: #b48ad6;
    --Alicia: #d68ad3;
  }

  body {
    margin: 0;
    font-family: 'Yuji Syuku', serif;
    background: url('img/petals-bg.png') center/cover no-repeat;
    overflow-x: hidden;
  }

  h1, h2, h3, h4 {
    font-family: 'Yuji Syuku', serif;
    margin: 0.5em 0;
  }

  /* ===== Pantalla de selección de modo ===== */
  .mode-split {
    position: relative;
    width: 100vw; height: 100vh;
    display: grid; grid-template-columns: 1fr 1fr;
  }
  .mode-half {
    display:flex; align-items:center; justify-content:center;
    flex-direction:column; gap: 12px; cursor: pointer; padding: 20px;
    transition: transform .15s ease;
    height: 100vh;
  }
  .mode-half:hover { transform: scale(1.015); }
  .mode-title {
    font-size: clamp(26px, 4vw, 40px); font-weight: 800;
    text-align: center; color:#fff; text-shadow:0 2px 8px rgba(0,0,0,.2);
  }
  .mode-desc {
    font-size: clamp(14px, 2vw, 18px); opacity: .95;
    text-align: center; max-width: 580px; color:#fff;
  }
  .mode-transparent-btn {
    background: transparent; border:2px dashed rgba(255,255,255,.8);
    color:#fff; padding: 10px 16px; border-radius: 12px; font-weight:700;
  }

  /* ===== Tutorial ===== */
  .tutorial {
    padding: 20px;
    font-size: 16px;
    background: rgba(255,255,255,0.8);
    margin: 20px;
    border-radius: 12px;
  }

  /* ===== Tarjetas del juego ===== */
  .card-container {
    position: relative;
    width: 300px; max-width: 90vw;
    margin: 50px auto;
  }
  .card {
    width: 100%; border-radius: 16px; overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    margin-bottom: 20px;
  }
  .card img {
    width: 100%; display: block;
  }
  .card-name {
    padding: 10px;
    text-align: center;
    font-weight: 700;
    font-size: 20px;
    background: rgba(255,255,255,0.9);
  }

  /* ===== Botones del juego ===== */
  .game-buttons {
    display: flex;
    justify-content: space-around;
    margin: 20px auto;
    max-width: 400px;
  }
  .game-buttons button {
    padding: 10px 20px;
    font-weight: bold;
    border-radius: 12px;
    border: none;
    cursor: pointer;
  }
  .btn-accept { background: var(--btn-accept); }
  .btn-reject { background: var(--btn-reject); }
  .btn-ignore { background: var(--btn-ignore); }

  /* ===== Resultados y estadísticas ===== */
  .stats-table {
    width: 100%; border-collapse: collapse; margin: 20px 0;
  }
  .stats-table th, .stats-table td {
    padding: 8px; text-align: center; border: 1px solid #ccc;
  }
  .stats-table th {
    background: var(--sakura-mid);
    font-size: 14px;
  }
  .distribution-table { width: 70%; }
  .ranking-table { width: 90%; }

</style>
</head>
<body>

<!-- Pantalla de selección de modo -->
<div class="mode-split">
  <div class="mode-half" style="background: var(--sakura-mid);" onclick="startGame('normal')">
    <h1 class="mode-title">Modo Normal</h1>
    <p class="mode-desc">Selecciona tarjetas usando botones o haciendo swipe.</p>
    <button class="mode-transparent-btn">Jugar Normal</button>
  </div>
  <div class="mode-half" style="background: var(--sky-mid);" onclick="startGame('random')">
    <h1 class="mode-title">Modo Aleatorio</h1>
    <p class="mode-desc">Tarjetas en orden aleatorio.</p>
    <button class="mode-transparent-btn">Jugar Aleatorio</button>
  </div>
</div>

<!-- Tutorial -->
<div class="tutorial">
  <h2>Tutorial</h2>
  <p>Puedes seleccionar las tarjetas pulsando los botones: <strong>Sí</strong>, <strong>No</strong>, o <strong>Me da igual</strong>. También puedes hacer swipe: hacia la derecha = sí, izquierda = no, arriba = me da igual.</p>
</div>

<!-- Contenedor del juego -->
<div class="card-container" id="gameContainer"></div>

<div class="game-buttons">
  <button class="btn-accept" onclick="vote('yes')">Sí</button>
  <button class="btn-reject" onclick="vote('no')">No</button>
  <button class="btn-ignore" onclick="vote('ignore')">Me da igual</button>
</div>

<!-- Resultados -->
<div id="resultsContainer"></div>

<script>
const BASE_CARDS = [
  { name: "Disney Tokyo", img: "img/disney.jpg" },
  { name: "Gotokuji", img: "img/gotokuji.jpg" },
  { name: "Pokemon Cafe", img: "img/pokemon.jpg" },
  { name: "Shikisai no oka", img: "img/shikisai.jpg" },
  { name: "Shinkansen Hello Kitty", img: "img/hello-kitty.jpg" },
  { name: "Maid cafe", img: "img/maid.jpg" },
  { name: "Nabana no sato", img: "img/nabana.jpg" },
  { name: "Otaru", img: "img/otaru.jpg" },
  { name: "Nagano y monos de nieve", img: "img/nagano.jpg" },
  { name: "RJ Cafe Osaka", img: "img/rj-cafe.jpg" },
  { name: "Kumachan Onsen Tokyo", img: "img/kumachan.jpg" },
  { name: "Enoshima", img: "img/enoshima.jpg" },
  { name: "Ginzan Onsen", img: "img/ginzan.jpg" },
  { name: "Tarde de recreativas", img: "img/arcade.jpg" },
  { name: "Shibazakura park Hokkaido", img: "img/shibazakura.jpg" },
  { name: "Musical Tokyo Revengers", img: "img/tokyo-revengers.jpg" },
  { name: "Eventos Kisekoi/Sailor Moon", img: "img/kisekoi.jpg" },
  { name: "Museo/cafe de los yokai", img: "img/yokai.jpg" },
  { name: "Kumamoto", img: "img/kumamoto.jpg" },
  { name: "Beppu", img: "img/beppu.jpg" },
  { name: "Bandai Museum", img: "img/bandai.jpg" }
];

let currentIndex = 0;
let votes = [];

function startGame(mode){
  document.querySelector('.mode-split').style.display = 'none';
  document.querySelector('.tutorial').style.display = 'block';
  loadCard(currentIndex);
}

function loadCard(index){
  if(index >= BASE_CARDS.length){
    showResults();
    return;
  }
  const card = BASE_CARDS[index];
  const container = document.getElementById('gameContainer');
  container.innerHTML = `
    <div class="card">
      <img src="${card.img}" alt="${card.name}">
      <div class="card-name">${card.name}</div>
    </div>
  `;
}

function vote(type){
  const card = BASE_CARDS[currentIndex];
  votes.push({card: card.name, vote: type});
  currentIndex++;
  loadCard(currentIndex);
  saveVote(card.name, type); // guarda en GitHub usando save.js
}

function showResults(){
  const container = document.getElementById('resultsContainer');
  container.innerHTML = `<h2>Resultados</h2>
    <table class="stats-table distribution-table">
      <thead><tr><th>Tarjeta</th><th>Sí</th><th>No</th><th>Me da igual</th></tr></thead>
      <tbody>
        ${BASE_CARDS.map(card=>{
          const yes = votes.filter(v=>v.card===card.name && v.vote==='yes').length;
          const no = votes.filter(v=>v.card===card.name && v.vote==='no').length;
          const ignore = votes.filter(v=>v.card===card.name && v.vote==='ignore').length;
          return `<tr>
            <td>${card.name}</td>
            <td>${yes}</td>
            <td>${no}</td>
            <td>${ignore}</td>
          </tr>`;
        }).join('')}
      </tbody>
    </table>
  `;
}
</script>
<script src="save.js"></script>
</body>
</html>
